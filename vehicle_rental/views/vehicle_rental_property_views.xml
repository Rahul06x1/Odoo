<?xml version="1.0" encoding="UTF-8" ?>
<odoo>



    <record id="vehicle_rental_model_action" model="ir.actions.act_window">
        <field name="name">Rent Vehicle</field>
        <field name="res_model">vehicle.rental.property</field>
        <field name="view_mode">tree,form,kanban</field>
        <field name="context">{'search_default_available': 1}</field>
    </record>

    <record id="vehicle_rent_request_action" model="ir.actions.act_window">
        <field name="name">Rent Request</field>
        <field name="res_model">rent.request</field>
        <field name="view_mode">tree,form</field>
<!--        <field name="context">{'search_default_available': 1}</field>-->
    </record>


    <menuitem id="test_menu_root" name="Vehicle Rental" sequence="1"/>
    <menuitem id="test_model_menu_action" parent="test_menu_root" action="vehicle_rental_model_action"/>
    <menuitem id="rent_request" name="Rent Request" parent="test_menu_root" action="vehicle_rent_request_action"/>

      <record id="vehicle_rental_view_tree" model="ir.ui.view">
        <field name="name">vehicle.rental.tree.view</field>
        <field name="model">vehicle.rental.property</field>
        <field name="arch" type="xml">
            <tree>
                <field name="customer_name"/>
                <field name="vehicle"/>
                <field name="brand_name"/>
                <field name="state"/>
                <field name="model_year" optional="hide"/>
                <field name="vehicle_rent" optional="hide"/>

            </tree>
        </field>
    </record>

     <record id="vehicle_rental_view_kanban" model="ir.ui.view">
        <field name="name">vehicle.rental.kanban.view</field>
        <field name="model">vehicle.rental.property</field>
        <field name="arch" type="xml">
            <kanban>
                <templates>
                    <t t-name="kanban-box">
                        <div class="oe_kanban_global_click_edit">


                    <ul>
                <li>Name:<field name="customer_name"/></li>
                <li>Vehicle:<field name="vehicle"/></li>
                <li>Brand:<field name="brand_name"/></li>
                <li>State<field name="state"/></li>
                <li>Model Year:<field name="model_year"/></li>
               <li>Rent Price:<field name="vehicle_rent"/></li>
                </ul>

                        </div>
                 </t>
                </templates>
            </kanban>
        </field>
    </record>

        <record id="vehicle_rental_view_form" model="ir.ui.view">
        <field name="name">vehicle.rental.form.view</field>
        <field name="model">vehicle.rental.property</field>
        <field name="arch" type="xml">
           <form>
               <header>
                   <field name="state" widget="statusbar" statusbar_visible="available,not_available,sold" options="{'clickable':'1'}"/>
               </header>
    <sheet>
        <group>
            <group>
                <field name="customer_name"/>
            </group>
            <group>
                <field name="vehicle"/>
            </group>
            <group>
                <field name="brand_name"/>
            </group>
            <group>
                <field name="registration_date"/>
            </group>
            <group>
                <field name="model_year"/>
            </group>
            <group>
                <field name="currency_id" def="USD" position="attributes" invisible="1" readonly="1"/>
                <field name="vehicle_rent" widget='monetary' options="{'currency_field': 'currency_id'}"/>
            </group>
        </group>
    </sheet>
     <div class="oe_chatter">
                <field name="message_follower_ids"/>
                <field name="activity_ids"/>
                <field name="message_ids"/>
            </div>
</form>
        </field>
    </record>

    <record id="vehicle_rental_view_search" model="ir.ui.view">
        <field name="name">vehicle.rental.search</field>
        <field name="model">vehicle.rental.property</field>
        <field name="arch" type="xml">
            <search>
                <field name="vehicle"/>
                <field name="brand_name"/>
                <separator/>
                <filter string="Available" name="available" domain="[('state', '=', 'available')]"/>
                <filter string="Unavailable" name="not_available" domain="[('state', '=', 'not_available')]"/>
                <group>
                    <filter name="group_brand_name" string="Brand" context="{'group_by':'brand_name'}"/>
                </group>


            </search>
        </field>
    </record>

    <openerp>

    <data>
        <record id="view_fleet_form_inherit" model="ir.ui.view">
            <field name="name">vehicle.rental.form.inherit</field>
            <field name="model">fleet.vehicle</field>
            <field name="inherit_id" ref="fleet.fleet_vehicle_view_form"/>
            <field name="arch" type="xml">
		<xpath expr="//field[@name='first_contract_date']" position="after">
		    <field name="registration_date"/>
		</xpath>
        <xpath expr="//field[@name='first_contract_date']" position="attributes">
            <attribute name="invisible">True</attribute>
        </xpath>
            </field>
        </record>
    </data>
</openerp>




</odoo>